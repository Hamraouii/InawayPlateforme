{% extends 'base.html.twig' %}

{% block title %}Forum | InaWay{% endblock %}

{% block body %}
    <!--Question Modal-->
    <div class="modal fade custom-modal" tabindex="-1" role="dialog" aria-labelledby="question" aria-hidden="true"
         id="question">
        <div class="modal-dialog">
            <div class="modal-content">
                <form action="/forum/ajouter" method="post" enctype="multipart/form-data">
                    <div class="modal-header">
                        <h5 class="modal-title">Poser une question</h5>
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span
                                    class="sr-only">Close</span></button>
                    </div>

                    <div class="modal-body">
                        <div class="row">
                            <div class="col-lg-12">
                                <label for="question">Titre:</label>
                                <input name="titre" placeholder="Titre pour votre question" class="form-control">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-12">
                                <label for="question">Sujet:</label>
                                <textarea name="question" placeholder="..." rows="4" class="form-control"></textarea>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-12">
                                <label id="label-topic" for="theme"
                                       class="col-md-3 col-form-label form-label">Th√®me</label>
                                <div class="col-md-9">
                                    <select name="theme" class="form-control custom-select w-auto">
                                        {% for t in theme %}
                                            <option value="{{ t.idTheme }}">{{ t.Nom }}</option>
                                        {% endfor %}
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="modal-footer">
                        <button type="submit" class="btn btn-lg btn-accent">Envoyer</button>
                    </div>

                </form>
            </div>
        </div>
    </div>
    <!--Question Modal-->

    <!-- Header Layout -->
    <div class="mdk-header-layout js-mdk-header-layout">


        <div class="mdk-header-layout__content page-content ">

            <div class="container page__container">
                <div class="page-section">

                    <h4>Discussions</h4>

                    <div class="card">
                        <div class="card-header">
                            <div class="row align-items-center" style="white-space: nowrap;">
                                <div class="col-lg-auto">

                                </div>
                                <div class="col-lg d-flex flex-wrap align-items-center">
                                    <div class="ml-lg-auto dropdown">

                                    </div>
                                    <a href="#" class="btn btn-accent" data-toggle="modal" data-target="#question">Poser
                                        une question</a>
                                </div>
                            </div>
                        </div>

                        <div class="list-group list-group-flush">

                            {% for f in sujet_plus %}
                                <div class="list-group-item p-3">
                                    <div class="row align-items-center">
                                        <div class="col-md-3 mb-8pt mb-md-0">
                                            <div class="media">
                                                <div class="media-left mr-16pt">
                                                    <a href="#"><img src="assets/images/people/{{ f.idUser.avatar }}"
                                                                     width="40" alt="avatar" class="rounded-circle"></a>
                                                </div>
                                                <div class="media-body media-middle">
                                                    <p class="text-muted m-0"> {{ f.DATE|date('d/m/Y') }}</p>
                                                    <p><a href="#" class="text-body">{{ f.idUser }}</a></p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col mb-8pt mb-md-0">
                                            <p class="mb-8pt"><a
                                                        href="{{ path('answer', {'id': f.idQuestion}) }}"
                                                        class="text-body"><strong>{{ f.TITRE }}</strong></a></p>
                                            <!--  /forum_answer  -->
                                        </div>
                                        <div class="col-auto d-flex flex-column align-items-center justify-content-center">
                                            <p class="lh-1 mb-0"><small class="text-black-70">{{ f.idTheme }}</small>
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            {% endfor %}
                        </div>


                    </div>

                </div>
            </div>

        </div>

    </div>
    <!-- // END Header Layout -->
{% endblock %}
